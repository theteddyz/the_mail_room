[gd_scene load_steps=17 format=3 uid="uid://cad0q6gbw5xww"]

[ext_resource type="PackedScene" uid="uid://wd85mtseuke1" path="res://Scenes/Prefabs/StaticObjects/Tiles/elevator_prefab.tscn" id="1_ejjhc"]
[ext_resource type="PackedScene" uid="uid://bxd0eechinn1m" path="res://Scenes/Prefabs/StaticObjects/Tiles/wall.tscn" id="2_djiff"]
[ext_resource type="Texture2D" uid="uid://1kgm36rh1fdo" path="res://Assets/Textures/Carpet.png" id="3_2a8kk"]
[ext_resource type="PackedScene" uid="uid://bf2twmuaaf8yg" path="res://Scenes/Prefabs/StaticObjects/Tiles/ceiling.tscn" id="4_gase0"]
[ext_resource type="PackedScene" uid="uid://doveq38wiuloa" path="res://Scenes/Prefabs/StaticObjects/ceiling_light_mailroom.tscn" id="5_os3xx"]
[ext_resource type="PackedScene" uid="uid://dh384hg87l3em" path="res://Scenes/Prefabs/StaticObjects/cubicle_empty.tscn" id="6_873ff"]
[ext_resource type="Script" uid="uid://bfxds8q6ijxk2" path="res://Scripts/Misc/out_of_bounds.gd" id="8_qeprb"]
[ext_resource type="AudioStream" uid="uid://65k7s8lvvcd3" path="res://Assets/Audio/SoundFX/AmbientScares/JohnLaugh3.ogg" id="8_t4ncj"]

[sub_resource type="Environment" id="Environment_kh0vc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5wvmf"]
albedo_texture = ExtResource("3_2a8kk")
uv1_scale = Vector3(12.565, 12.565, 12.565)

[sub_resource type="PlaneMesh" id="PlaneMesh_od5qy"]
size = Vector2(16.725, 17.37)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_aoj5a"]
data = PackedVector3Array(8.3625, 0, 8.685, -8.3625, 0, 8.685, 8.3625, 0, -8.685, -8.3625, 0, 8.685, -8.3625, 0, -8.685, 8.3625, 0, -8.685)

[sub_resource type="BoxShape3D" id="BoxShape3D_op4bj"]
size = Vector3(4.78333, 3.1366, 3.67902)

[sub_resource type="Animation" id="Animation_6lgcc"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../CeilingLightOn/OmniLight3D:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../CeilingLightOn2/OmniLight3D:light_energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../CeilingLightOn/CeilingLightOnLight:transparency")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../CeilingLightOn2/CeilingLightOnLight:transparency")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("AudioStreamPlayer3D:playing")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_5ypyq"]
resource_name = "kill_player"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../CeilingLightOn/OmniLight3D:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [1.0, 0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../CeilingLightOn2/OmniLight3D:light_energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [1.0, 0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../CeilingLightOn/CeilingLightOnLight:transparency")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../CeilingLightOn2/CeilingLightOnLight:transparency")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("AudioStreamPlayer3D:playing")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.433333),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_e7uaq"]
_data = {
"RESET": SubResource("Animation_6lgcc"),
"kill_player": SubResource("Animation_5ypyq")
}

[node name="world" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kh0vc")

[node name="Elevator" parent="." instance=ExtResource("1_ejjhc")]

[node name="StaticBody3D" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.71453, -0.0856215, 4.00761)

[node name="StaticBody3D5" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.64406, -0.0856215, 4.00761)

[node name="StaticBody3D2" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.55342, -0.0856215, 6.93894)

[node name="StaticBody3D3" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.55342, -0.0856215, 12.5753)

[node name="StaticBody3D4" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.55342, -0.0856215, 18.0897)

[node name="StaticBody3D6" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 8.977, -0.0856215, 6.93894)

[node name="StaticBody3D7" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 8.977, -0.0856215, 12.5753)

[node name="StaticBody3D8" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 8.977, -0.0856215, 18.0897)

[node name="StaticBody3D9" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.53498, -0.0856215, 19.7355)

[node name="StaticBody3D10" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.88656, -0.0856215, 19.7355)

[node name="StaticBody3D11" parent="." instance=ExtResource("2_djiff")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.79457, -0.0856215, 19.7355)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.93277, -0.0660926, 12.7661)
material_override = SubResource("StandardMaterial3D_5wvmf")
mesh = SubResource("PlaneMesh_od5qy")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]
collision_layer = 17
collision_mask = 17

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_aoj5a")

[node name="Ceiling" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, -5.91164, 3.97799, -6.0402)

[node name="Ceiling2" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, -5.91164, 3.97799, -0.893048)

[node name="Ceiling3" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, -5.89854, 3.97242, 4.30325)

[node name="Ceiling4" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, -0.745587, 3.97799, -6.0402)

[node name="Ceiling5" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, -0.745587, 3.97799, -0.893048)

[node name="Ceiling6" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, -0.732481, 3.97242, 4.30325)

[node name="Ceiling7" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, 4.39598, 3.97799, -6.0402)

[node name="Ceiling8" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, 4.39598, 3.97799, -0.893048)

[node name="Ceiling9" parent="MeshInstance3D" instance=ExtResource("4_gase0")]
transform = Transform3D(0.587, 0, 0, 0, 0.587, 0, 0, 0, 0.587, 4.40908, 3.97242, 4.30325)

[node name="CeilingLightOn" parent="." instance=ExtResource("5_os3xx")]
transform = Transform3D(-9.46185e-09, 0, 0.216462, 0, 0.216462, 0, -0.216462, 0, -9.46185e-09, 1.98514, 4.02294, 7.47387)

[node name="OmniLight3D" type="OmniLight3D" parent="CeilingLightOn"]
transform = Transform3D(4.61975, 0, 0, 0, 4.61975, 0, 0, 0, 4.61975, 0, -3.12564, 0)
shadow_enabled = true
omni_range = 10.651
omni_attenuation = 0.798

[node name="CeilingLightOn2" parent="." instance=ExtResource("5_os3xx")]
transform = Transform3D(-9.46185e-09, 0, 0.216462, 0, 0.216462, 0, -0.216462, 0, -9.46185e-09, 1.98514, 4.02294, 15.4286)

[node name="OmniLight3D" type="OmniLight3D" parent="CeilingLightOn2"]
transform = Transform3D(4.61975, 0, 0, 0, 4.61975, 0, 0, 0, 4.61975, 0, -3.12564, 0)
shadow_enabled = true
omni_range = 10.651
omni_attenuation = 0.798

[node name="Cubicle_empty" parent="." instance=ExtResource("6_873ff")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -2.01945, -0.0660925, 7.16243)

[node name="Cubicle_empty2" parent="." instance=ExtResource("6_873ff")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -2.01945, -0.0660925, 11.5447)

[node name="Cubicle_empty3" parent="." instance=ExtResource("6_873ff")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -2.01945, -0.0660925, 16.0693)

[node name="Cubicle_empty4" parent="." instance=ExtResource("6_873ff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6.15996, -0.0660925, 16.3107)

[node name="Cubicle_empty5" parent="." instance=ExtResource("6_873ff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6.15996, -0.0660925, 11.4211)

[node name="Cubicle_empty6" parent="." instance=ExtResource("6_873ff")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6.15996, -0.0660925, 7.25294)

[node name="Kill_Player" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 11.3942)
script = ExtResource("8_qeprb")

[node name="Area3D" type="Area3D" parent="Kill_Player"]
collision_layer = 16
collision_mask = 16

[node name="CollisionShape3D" type="CollisionShape3D" parent="Kill_Player/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.89166, 1.0683, 0.438751)
shape = SubResource("BoxShape3D_op4bj")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Kill_Player"]
libraries = {
"": SubResource("AnimationLibrary_e7uaq")
}

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Kill_Player"]
stream = ExtResource("8_t4ncj")

[connection signal="body_entered" from="Kill_Player/Area3D" to="Kill_Player" method="_on_area_3d_body_entered"]

[editable path="CeilingLightOn"]
[editable path="CeilingLightOn2"]
