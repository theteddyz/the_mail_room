[gd_scene load_steps=13 format=3 uid="uid://clgw1aqyoiqcq"]

[ext_resource type="Texture2D" uid="uid://y2pmwstysa37" path="res://Assets/Textures/BlenderTextures/WallMailRoom.png" id="1_ifukg"]
[ext_resource type="Script" uid="uid://dukwbapxl8v66" path="res://Scripts/CutoutCollisionShaper.gd" id="2_1uj1p"]
[ext_resource type="PackedScene" uid="uid://c4nsdvtqi2ydi" path="res://Scenes/Prefabs/StaticObjects/airduct_longer.tscn" id="3_64d6a"]
[ext_resource type="Script" uid="uid://cbvb1snf756vu" path="res://Scripts/StateMachine/Player/Crouching_Assistant.gd" id="4_o4wyx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_i46u3"]
resource_name = "WallMailRoom"
cull_mode = 2
albedo_texture = ExtResource("1_ifukg")
uv1_scale = Vector3(0.193, 0.193, 0.193)
uv1_offset = Vector3(0.53, 1.43, 0)
texture_filter = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o5vw3"]
resource_name = "WallMailRoom"
cull_mode = 2
albedo_texture = ExtResource("1_ifukg")
uv1_scale = Vector3(0.203, 0.203, 0.203)
uv1_offset = Vector3(0.768, 0.331, 0)
texture_filter = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_652il"]
resource_name = "WallMailRoom"
cull_mode = 2
albedo_texture = ExtResource("1_ifukg")
uv1_scale = Vector3(0.154, 0.154, 0.154)
uv1_offset = Vector3(2.014, -0.265, 0)
texture_filter = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_1m18l"]
size = Vector3(0.644165, 0.463867, 2.41257)

[sub_resource type="BoxShape3D" id="BoxShape3D_kp38p"]
size = Vector3(3.11073, 7.893, 0.26)

[sub_resource type="BoxShape3D" id="BoxShape3D_084io"]
size = Vector3(1.43927, 7.70207, 0.349243)

[sub_resource type="BoxShape3D" id="BoxShape3D_vbd3s"]
size = Vector3(5.80928, 6.54268, 0.349243)

[sub_resource type="BoxShape3D" id="BoxShape3D_25jim"]
size = Vector3(5.72033, 0.02968, 0.349243)

[node name="mail_room_wall_cuttable" type="Node3D"]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]

[node name="TopSection" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.13975, 0)
size = Vector3(5.671, 3.236, 0.152)
material = SubResource("StandardMaterial3D_i46u3")

[node name="MiddleSection" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.99515, 0)
size = Vector3(5.704, 3.039, 0.224)
material = SubResource("StandardMaterial3D_o5vw3")

[node name="BottomSection" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.743577, 0)
size = Vector3(5.73, 1.495, 0.265)
material = SubResource("StandardMaterial3D_652il")

[node name="Cutout" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3843, 0.870733, 0)
operation = 2
calculate_tangents = false
size = Vector3(1.25, 1.25, 1)

[node name="airduct_longer" parent="CSGCombiner3D/Cutout" instance=ExtResource("3_64d6a")]
transform = Transform3D(2.005, 0, 0, 0, 2.62, 0, 0, 0, 1.47, -0.0277901, -0.00451994, -2.49999)

[node name="Area3D" type="Area3D" parent="CSGCombiner3D/Cutout/airduct_longer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.260137)
collision_layer = 0
collision_mask = 65536
script = ExtResource("4_o4wyx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CSGCombiner3D/Cutout/airduct_longer/Area3D"]
transform = Transform3D(0.999997, 0, 0, 0, 1.00008, 0, 0, 0, 0.999993, 0.0042125, 0.00830394, 0.628134)
shape = SubResource("BoxShape3D_1m18l")

[node name="LeftCollision" type="StaticBody3D" parent="." node_paths=PackedStringArray("collision_area", "cutout")]
collision_layer = 133
collision_mask = 133
script = ExtResource("2_1uj1p")
collision_area = NodePath("CollisionShape3D")
cutout = NodePath("../CSGCombiner3D/Cutout")
axis_to_adjust = Vector3(1, 0, 0)
sign = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="LeftCollision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.45465, 3.97421, 0)
shape = SubResource("BoxShape3D_kp38p")

[node name="RightCollision" type="StaticBody3D" parent="." node_paths=PackedStringArray("collision_area", "cutout")]
collision_layer = 133
collision_mask = 133
script = ExtResource("2_1uj1p")
collision_area = NodePath("CollisionShape3D")
cutout = NodePath("../CSGCombiner3D/Cutout")
axis_to_adjust = Vector3(1, 0, 0)
sign = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="RightCollision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.07035, 3.859, -0.00457764)
shape = SubResource("BoxShape3D_084io")

[node name="TopCollision" type="StaticBody3D" parent="." node_paths=PackedStringArray("collision_area", "cutout")]
collision_layer = 133
collision_mask = 133
script = ExtResource("2_1uj1p")
collision_area = NodePath("CollisionShape3D")
cutout = NodePath("../CSGCombiner3D/Cutout")
axis_to_adjust = Vector3(0, 1, 0)
sign = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="TopCollision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.62937, -0.005)
shape = SubResource("BoxShape3D_vbd3s")

[node name="BottomCollision" type="StaticBody3D" parent="." node_paths=PackedStringArray("collision_area", "cutout")]
collision_layer = 133
collision_mask = 133
script = ExtResource("2_1uj1p")
collision_area = NodePath("CollisionShape3D")
cutout = NodePath("../CSGCombiner3D/Cutout")
axis_to_adjust = Vector3(0, 1, 0)
sign = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="BottomCollision"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00488788, 0.122867, -0.00457764)
shape = SubResource("BoxShape3D_25jim")

[connection signal="body_entered" from="CSGCombiner3D/Cutout/airduct_longer/Area3D" to="CSGCombiner3D/Cutout/airduct_longer/Area3D" method="_on_body_entered"]
[connection signal="body_exited" from="CSGCombiner3D/Cutout/airduct_longer/Area3D" to="CSGCombiner3D/Cutout/airduct_longer/Area3D" method="_on_body_exited"]
